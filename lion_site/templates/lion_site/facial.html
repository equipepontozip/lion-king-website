{% load static %}
<head>
    <link rel="stylesheet" href="{% static 'facial/facial.css' %}">
    <script src="{% static 'facial/facial.js' %}"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Lion Protector</title>
        
</head>

<body>

    <div>

    </div>
    <div class="facial-page">
        <div class="form">
            <form class="register-form">
                <input type="text" placeholder="name"/>
                <input type="password" placeholder="password"/>
                <input type="text" placeholder="email address"/>
                <button>create</button>
                <p class="message">Already registered? <a href="#">Sign In</a></p>
            </form>
            <form class="facial-form">
                <input type="text" placeholder="username"/>
                <input type="password" placeholder="password" onfocus="test()"/>
                <button>Enviar Foto!</button>
                <p class="message">Not registered? <a href="#">Create an account</a></p>
            </form>
        </div>
    </div>


    <div align=center>
    <table><tr><td align=center>
            <h1>Lion Protector Facial Recognition</h1>


            <video autoplay></video>

            <script>
            const constraints = {
              video: true
            };
            
            const video = document.querySelector('video');
            
            navigator.mediaDevices.getUserMedia(constraints).
              then((stream) => {video.srcObject = stream});
            </script>

            <video autoplay></video>
            <img src="">
            <canvas style="display:none;"></canvas>
            
            <script>
            const captureVideoButton =
              document.querySelector('#screenshot .capture-button');
            const screenshotButton = document.querySelector('#screenshot-button');
            const img = document.querySelector('#screenshot img');
            const video = document.querySelector('#screenshot video');
            
            const canvas = document.createElement('canvas');
            
            captureVideoButton.onclick = function() {
              navigator.mediaDevices.getUserMedia(constraints).
                then(handleSuccess).catch(handleError);
            };
            
            screenshotButton.onclick = video.onclick = function() {
              canvas.width = video.videoWidth;
              canvas.height = video.videoHeight;
              canvas.getContext('2d').drawImage(video, 0, 0);
              // Other browsers will fall back to image/png
              img.src = canvas.toDataURL('image/webp');
            };
            
            function handleSuccess(stream) {
              screenshotButton.disabled = false;
              video.srcObject = stream;
            }
            </script>   
    </tr>
    </table>
</div>

</body>
