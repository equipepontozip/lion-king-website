<!DOCTYPE html>
{% load static %}
<head>
    <link rel="stylesheet" href="{% static 'facial/facial.css' %}">
    <script src="{% static 'facial/facial.js' %}"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Lion Protector</title>
        
</head>

<body>

    <div style="text-align:center;">

        <h1 center>Lion Protector Facial Recognition</h1>
        <h3 center >Captura de Imagem</h3>
        
        <div style="text-align:center;">

                
          <script>
          const captureVideoButton =
            document.querySelector('#screenshot .capture-button');
          const screenshotButton = document.querySelector('#screenshot-button');
          const img = document.querySelector('#screenshot img');
          const video = document.querySelector('#screenshot video');
          
          const canvas = document.createElement('canvas');
          
          captureVideoButton.onclick = function() {
            navigator.mediaDevices.getUserMedia(constraints).
              then(handleSuccess).catch(handleError);
          };
          
          screenshotButton.onclick = video.onclick = function() {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);
            // Other browsers will fall back to image/png
            img.src = canvas.toDataURL('image/webp');
          };
          
          function handleSuccess(stream) {
            screenshotButton.disabled = false;
            video.srcObject = stream;
          }

          </script>


          <div id="screenshot" style="text-align:center;">

            <video autoplay></video>
            <img src="">
            <canvas style="display:none;"></canvas>

            <video class="videostream" autoplay=""></video>
            <img id="screenshot-img">
            <p><button class="capture-button">Capture video</button></p>
            <p><button id="screenshot-button">Take screenshot</button></p>
          </div>


</body>
